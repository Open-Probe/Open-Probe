(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7458:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(482),a=s(9108),n=s(2563),l=s.n(n),i=s(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1136)),"/Users/suryanshrawat/Documents/github/openprobe_dev/frontend/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2392)),"/Users/suryanshrawat/Documents/github/openprobe_dev/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/suryanshrawat/Documents/github/openprobe_dev/frontend/src/app/page.tsx"],u="/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6106:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},1632:(e,t,s)=>{Promise.resolve().then(s.bind(s,9503)),Promise.resolve().then(s.bind(s,9705))},1681:(e,t,s)=>{Promise.resolve().then(s.bind(s,8341))},8341:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>en});var r=s(5344),a=s(3729),n=s.t(a,2),l=s(8765),i=s(9224);/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var c=s(1453);let d=a.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));d.displayName="Input";var u=s(5094),m=s(4578);class p{connect(){return new Promise((e,t)=>{if(this.socket?.readyState===WebSocket.OPEN){e(this.socket);return}try{this.socket=new WebSocket("ws://localhost:8000/ws"),this.socket.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,e(this.socket)},this.socket.onerror=e=>{console.error("WebSocket connection error:",e),t(e)},this.socket.onclose=e=>{console.log("WebSocket disconnected:",e.code,e.reason),this.handleReconnection()},this.socket.onmessage=e=>{if(this.messageCallback)try{let t=JSON.parse(e.data);this.messageCallback(t)}catch(e){console.error("Error parsing WebSocket message:",e)}},setTimeout(()=>{this.socket?.readyState!==WebSocket.OPEN&&t(Error("WebSocket connection timeout"))},5e3)}catch(e){t(e)}})}handleReconnection(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connect().catch(console.error)},this.reconnectDelay*this.reconnectAttempts)):console.error("Max reconnection attempts reached")}onMessage(e){this.messageCallback=e}disconnect(){this.socket&&(this.socket.close(),this.socket=null)}isConnected(){return this.socket?.readyState===WebSocket.OPEN}constructor(){this.socket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.messageCallback=null}}let h=new p,x=()=>{let{setConnected:e,updateStep:t,setFinalAnswer:s,setError:r,clearSearch:n,cancelSearch:l}=(0,m.R)(),i=(0,a.useCallback)(e=>{switch(console.log("WebSocket message received:",e),e.type){case"step_update":t({id:e.data.step_id,type:e.data.step_type,status:"started"===e.data.status?"running":"completed"===e.data.status?"completed":"failed"===e.data.status?"failed":"pending",title:e.data.title,content:e.data.content||"",timestamp:new Date(e.timestamp),metadata:e.data.metadata});break;case"search_complete":s(e.data.result);break;case"search_cancelled":l(),console.log("Search was cancelled:",e.data.message);break;case"error":r(e.data.error);break;case"session_reset":n();break;default:console.warn("Unknown WebSocket message type:",e.type)}},[t,s,r,n,l]),o=(0,a.useCallback)(async(t=!1)=>{try{await h.connect(),e(!0),r(null),h.onMessage(i),console.log("WebSocket connected successfully")}catch(s){console.error("Failed to connect to WebSocket:",s),e(!1),t&&r("Failed to connect to server. Please refresh the page.")}},[e,r,i]),c=(0,a.useCallback)(()=>{h.disconnect(),e(!1)},[e]),d=(0,a.useCallback)(async()=>{h.isConnected()||await o(!0)},[o]);return(0,a.useEffect)(()=>(o(!1),()=>{c()}),[o,c]),{isConnected:h.isConnected(),connect:o,disconnect:c,ensureConnection:d}};class f{constructor(e="http://localhost:8000"){this.baseURL=e}async request(e,t={}){let s=`${this.baseURL}${e}`,r={headers:{"Content-Type":"application/json",...t.headers},...t};try{let e=await fetch(s,r);if(!e.ok){let t=await e.json();throw Error(t.detail||`HTTP ${e.status}`)}return await e.json()}catch(t){throw console.error(`API request failed: ${e}`,t),t}}async startSearch(e){return this.request("/api/v1/search",{method:"POST",body:JSON.stringify({query:e})})}async getSearchStatus(e){return this.request(`/api/v1/search/${e}/status`)}async cancelSearch(e){return this.request(`/api/v1/search/${e}/cancel`,{method:"POST"})}async newChat(){return this.request("/api/v1/new-chat",{method:"POST"})}async health(){return this.request("/api/health")}}let g=new f;function b({className:e,initialQuery:t}){let[s,n]=(0,a.useState)(t||""),{startSearch:i,isInChatMode:p}=(0,m.R)(),{isConnected:h,ensureConnection:f}=x(),[b,y]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{t&&n(t)},[t]),p)return null;let v=async e=>{if(e.preventDefault(),s.trim()&&!b){y(!0);try{await f(),i(s.trim()),await g.startSearch(s.trim()),n("")}catch(e){console.error("Failed to start search:",e)}finally{y(!1)}}};return(0,r.jsxs)("div",{className:(0,c.cn)("w-full",e),children:[r.jsx("form",{onSubmit:v,className:"relative",children:(0,r.jsxs)("div",{className:"relative flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(l.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),r.jsx(d,{value:s,onChange:e=>n(e.target.value),placeholder:"Ask me anything...",className:"pl-12 pr-4 h-14 text-lg border-2 focus:border-primary transition-colors rounded-xl shadow-sm",disabled:b,autoFocus:!0})]}),r.jsx(u.z,{type:"submit",disabled:!s.trim()||b,size:"lg",className:"h-14 px-6 rounded-xl shadow-sm",children:b?(0,r.jsxs)(r.Fragment,{children:[r.jsx(o,{className:"h-5 w-5 mr-2 animate-spin"}),"Starting..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Z,{className:"h-5 w-5 mr-2"}),"Search"]})})]})}),!h&&r.jsx("div",{className:"mt-3 text-center",children:(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-yellow-50 border border-yellow-200 rounded-full text-yellow-700 text-xs",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-400 rounded-full animate-pulse"}),"Connecting..."]})})]})}/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,i.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),v=(0,i.Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),j=(0,i.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),N=(0,i.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),w=(0,i.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),k=(0,i.Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),S=(0,i.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),C=(0,i.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),P=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));P.displayName="Card";let T=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",e),...t}));T.displayName="CardHeader",a.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",a.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let R=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,c.cn)("p-6 pt-0",e),...t}));R.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,c.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";var D=globalThis?.document?a.useLayoutEffect:()=>{},A=n[" useInsertionEffect ".trim().toString()]||D,_=(Symbol("RADIX:SYNC_STATE"),s(1405));s(1202);var M=s(2751),O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,M.Z8)(`Primitive.${t}`),n=a.forwardRef((e,a)=>{let{asChild:n,...l}=e,i=n?s:t;return(0,r.jsx)(i,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),I=e=>{let{present:t,children:s}=e,r=function(e){var t,s;let[r,n]=a.useState(),l=a.useRef(null),i=a.useRef(e),o=a.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>s[e][t]??e,t));return a.useEffect(()=>{let e=E(l.current);o.current="mounted"===c?e:"none"},[c]),D(()=>{let t=l.current,s=i.current;if(s!==e){let r=o.current,a=E(t);e?d("MOUNT"):"none"===a||t?.display==="none"?d("UNMOUNT"):s&&r!==a?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),D(()=>{if(r){let e;let t=r.ownerDocument.defaultView??window,s=s=>{let a=E(l.current).includes(CSS.escape(s.animationName));if(s.target===r&&a&&(d("ANIMATION_END"),!i.current)){let s=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=s)})}},a=e=>{e.target===r&&(o.current=E(l.current))};return r.addEventListener("animationstart",a),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",a),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s)}}d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:a.useCallback(e=>{l.current=e?getComputedStyle(e):null,n(e)},[])}}(t),n="function"==typeof s?s({present:r.isPresent}):a.Children.only(s),l=(0,_.e)(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(s=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n));return"function"==typeof s||r.isPresent?a.cloneElement(n,{ref:l}):null};function E(e){return e?.animationName||"none"}I.displayName="Presence";var q=n[" useId ".trim().toString()]||(()=>void 0),$=0,z="Collapsible",[U,F]=function(e,t=[]){let s=[],n=()=>{let t=s.map(e=>a.createContext(e));return function(s){let r=s?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return n.scopeName=e,[function(t,n){let l=a.createContext(n),i=s.length;s=[...s,n];let o=t=>{let{scope:s,children:n,...o}=t,c=s?.[e]?.[i]||l,d=a.useMemo(()=>o,Object.values(o));return(0,r.jsx)(c.Provider,{value:d,children:n})};return o.displayName=t+"Provider",[o,function(s,r){let o=r?.[e]?.[i]||l,c=a.useContext(o);if(c)return c;if(void 0!==n)return n;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:s,scopeName:r})=>{let a=s(e)[`__scope${r}`];return{...t,...a}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(n,...t)]}(z),[W,Z]=U(z),H=a.forwardRef((e,t)=>{let{__scopeCollapsible:s,open:n,defaultOpen:l,disabled:i,onOpenChange:o,...c}=e,[d,u]=function({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){let[n,l,i]=function({defaultProp:e,onChange:t}){let[s,r]=a.useState(e),n=a.useRef(s),l=a.useRef(t);return A(()=>{l.current=t},[t]),a.useEffect(()=>{n.current!==s&&(l.current?.(s),n.current=s)},[s,n]),[s,r,l]}({defaultProp:t,onChange:s}),o=void 0!==e,c=o?e:n;{let t=a.useRef(void 0!==e);a.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${r} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,r])}return[c,a.useCallback(t=>{if(o){let s="function"==typeof t?t(e):t;s!==e&&i.current?.(s)}else l(t)},[o,e,l,i])]}({prop:n,defaultProp:l??!1,onChange:o,caller:z});return(0,r.jsx)(W,{scope:s,disabled:i,contentId:function(e){let[t,s]=a.useState(q());return D(()=>{e||s(e=>e??String($++))},[e]),e||(t?`radix-${t}`:"")}(),open:d,onOpenToggle:a.useCallback(()=>u(e=>!e),[u]),children:(0,r.jsx)(O.div,{"data-state":J(d),"data-disabled":i?"":void 0,...c,ref:t})})});H.displayName=z;var L="CollapsibleTrigger",B=a.forwardRef((e,t)=>{let{__scopeCollapsible:s,...a}=e,n=Z(L,s);return(0,r.jsx)(O.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":J(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...a,ref:t,onClick:function(e,t,{checkForDefaultPrevented:s=!0}={}){return function(r){if(e?.(r),!1===s||!r.defaultPrevented)return t?.(r)}}(e.onClick,n.onOpenToggle)})});B.displayName=L;var G="CollapsibleContent",V=a.forwardRef((e,t)=>{let{forceMount:s,...a}=e,n=Z(G,e.__scopeCollapsible);return(0,r.jsx)(I,{present:s||n.open,children:({present:e})=>(0,r.jsx)(Q,{...a,ref:t,present:e})})});V.displayName=G;var Q=a.forwardRef((e,t)=>{let{__scopeCollapsible:s,present:n,children:l,...i}=e,o=Z(G,s),[c,d]=a.useState(n),u=a.useRef(null),m=(0,_.e)(t,u),p=a.useRef(0),h=p.current,x=a.useRef(0),f=x.current,g=o.open||c,b=a.useRef(g),y=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(e)},[]),D(()=>{let e=u.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();p.current=t.height,x.current=t.width,b.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),d(n)}},[o.open,n]),(0,r.jsx)(O.div,{"data-state":J(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:m,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...e.style},children:g&&l})});function J(e){return e?"open":"closed"}function K({steps:e,isThinking:t,query:s,className:n}){let[l,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(t||e.length>0)&&o&&i(!0)},[t,e.length,o]);let m=e.filter(e=>"pending"!==e.status);m.filter(e=>"running"===e.status);let p=m.filter(e=>"completed"===e.status);m.filter(e=>"failed"===e.status);let h=e.find(e=>"plan"===e.type);return(h?.metadata?.planSteps?.length,e.filter(e=>"plan"!==e.type).filter(e=>"completed"===e.status).length,t||0!==e.length)?r.jsx(P,{className:(0,c.cn)("w-full max-w-4xl mx-auto mb-3",n),children:(0,r.jsxs)(H,{open:l,onOpenChange:()=>{i(!l),d(!1)},children:[r.jsx(B,{asChild:!0,children:r.jsx(T,{className:"cursor-pointer hover:bg-muted/50 transition-colors py-3 px-4",children:(0,r.jsxs)(u.z,{variant:"ghost",className:"w-full justify-between p-0 h-auto",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/10",children:t?r.jsx(w,{className:"h-4 w-4 text-primary animate-spin"}):r.jsx(k,{className:"h-4 w-4 text-primary"})}),r.jsx("div",{className:"text-left",children:(0,r.jsxs)("h3",{className:"font-medium text-sm",children:[t?r.jsx("span",{className:"thinking-dots",children:"Thinking"}):"Thinking Process",!t&&p.length>0&&(0,r.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["(",p.length," steps)"]})]})})]}),r.jsx("div",{className:"flex items-center gap-2",children:l?r.jsx(S,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(C,{className:"h-4 w-4 text-muted-foreground"})})]})})}),r.jsx(V,{children:r.jsx(R,{className:"pt-0 pb-3 px-4",children:m.length>0?r.jsx("div",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:r.jsx("div",{className:"space-y-2",children:m.map((e,t)=>(0,r.jsxs)("details",{className:"text-xs group",children:[(0,r.jsxs)("summary",{className:(0,c.cn)("flex items-center gap-2 p-2 rounded-md cursor-pointer hover:bg-muted/50 transition-colors","running"===e.status&&"bg-primary/10","completed"===e.status&&"bg-green-50 hover:bg-green-100","failed"===e.status&&"bg-red-50 hover:bg-red-100"),children:[r.jsx("div",{className:(0,c.cn)("w-2 h-2 rounded-full flex-shrink-0","running"===e.status&&"bg-primary animate-pulse","completed"===e.status&&"bg-green-500","failed"===e.status&&"bg-red-500","pending"===e.status&&"bg-gray-300")}),r.jsx("span",{className:"font-medium truncate flex-1",children:e.title}),"running"===e.status&&r.jsx(w,{className:"h-3 w-3 animate-spin flex-shrink-0"}),r.jsx(C,{className:"h-3 w-3 text-muted-foreground group-open:rotate-180 transition-transform flex-shrink-0"})]}),(0,r.jsxs)("div",{className:"mt-2 ml-4 p-3 bg-muted/30 rounded-md",children:[e.content&&(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Output:"}),r.jsx("div",{className:"text-xs bg-background/50 rounded p-2 max-h-32 overflow-y-auto custom-scrollbar",children:r.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:e.content})})]}),e.metadata&&(0,r.jsxs)("div",{className:"space-y-2",children:[e.metadata.searchQuery&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Search Query:"}),r.jsx("p",{className:"text-xs bg-blue-50 rounded p-1",children:e.metadata.searchQuery})]}),e.metadata.codeResult&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Code Result:"}),r.jsx("pre",{className:"text-xs bg-green-50 rounded p-2 overflow-x-auto font-mono",children:e.metadata.codeResult})]}),e.metadata.planSteps&&e.metadata.planSteps.length>0&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Plan Steps:"}),r.jsx("ol",{className:"text-xs bg-yellow-50 rounded p-2 space-y-1",children:e.metadata.planSteps.map((e,t)=>(0,r.jsxs)("li",{className:"flex gap-2",children:[(0,r.jsxs)("span",{className:"font-medium",children:[t+1,"."]}),r.jsx("span",{children:e})]},t))})]}),e.metadata.error&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-red-600",children:"Error:"}),r.jsx("p",{className:"text-xs bg-red-50 text-red-700 rounded p-2",children:e.metadata.error})]}),e.metadata.sources&&e.metadata.sources.length>0&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Sources:"}),r.jsx("div",{className:"text-xs bg-purple-50 rounded p-2 space-y-1 max-h-24 overflow-y-auto",children:e.metadata.sources.map((e,t)=>r.jsx("div",{children:"string"==typeof e?r.jsx("span",{className:"text-purple-700",children:e}):r.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline block",children:e.title})},t))})]})]}),r.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:e.timestamp.toLocaleTimeString()})]})]},e.id))})}):(0,r.jsxs)("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(k,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-xs",children:"Initializing..."})]})})})]})}):null}let X=e=>{let t=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return(t=t.replace(/\*(.*?)\*/g,"<em>$1</em>")).replace(/`([^`]+)`/g,'<code class="bg-muted px-1 py-0.5 rounded text-sm">$1</code>')};function Y({message:e}){let[t,s]=(0,a.useState)(!1),n="user"===e.type,l="assistant"===e.type,i=e.searchResult,o=async e=>{try{await navigator.clipboard.writeText(e),s(!0),setTimeout(()=>s(!1),2e3)}catch(e){console.error("Failed to copy to clipboard:",e)}},c=e=>new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(e);if(n)return(0,r.jsxs)("div",{className:"flex items-start gap-3 max-w-[80%] ml-auto message-bubble user-message",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"bg-primary text-primary-foreground rounded-2xl rounded-tr-md px-4 py-3 shadow-sm",children:r.jsx("p",{className:"whitespace-pre-wrap break-words",children:e.content})}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:c(e.timestamp)})]}),r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:r.jsx(y,{className:"h-4 w-4 text-primary-foreground"})})]});if(l){let s=i?.status==="thinking",a=i?.status==="completed",n=i?.finalAnswer,l=i&&i.steps.length>0;return(0,r.jsxs)("div",{className:"flex items-start gap-3 max-w-[95%] message-bubble assistant-message",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:r.jsx(v,{className:"h-4 w-4 text-muted-foreground"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"bg-muted/50 rounded-2xl rounded-tl-md px-4 py-3 shadow-sm",children:[l&&r.jsx("div",{className:"mb-4",children:r.jsx(K,{steps:i.steps,isThinking:s,query:i.query,className:"border border-border/20 shadow-sm bg-muted/20 rounded-lg"})}),a&&n&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"prose max-w-none",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100",children:r.jsx("div",{className:"whitespace-pre-wrap break-words text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:X(n)}})})}),i&&(0,r.jsxs)("div",{className:"space-y-3 pt-2 border-t border-border/30",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["✅ Completed in ",i.endTime?Math.round((i.endTime.getTime()-i.startTime.getTime())/1e3):"?","s"]}),(0,r.jsxs)("span",{children:["\uD83D\uDD04 ",i.steps.filter(e=>"completed"===e.status).length," steps"]}),(0,r.jsxs)("span",{children:["\uD83D\uDD52 ",c(i.endTime||i.startTime)]})]}),r.jsx(u.z,{variant:"ghost",size:"sm",onClick:()=>o(n),className:"h-7 px-2 text-xs",children:t?(0,r.jsxs)(r.Fragment,{children:[r.jsx(j,{className:"h-3 w-3 mr-1"}),"Copied!"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(N,{className:"h-3 w-3 mr-1"}),"Copy"]})})]}),i.steps.some(e=>e.metadata?.sources)&&r.jsx("div",{className:"mt-3",children:(0,r.jsxs)("details",{className:"group",children:[(0,r.jsxs)("summary",{className:"cursor-pointer text-xs font-medium text-muted-foreground hover:text-foreground mb-2",children:["\uD83D\uDCDA Sources Used (",i.steps.map(e=>e.metadata?.sources||[]).flat().filter(Boolean).length," sources)"]}),r.jsx("div",{className:"space-y-2 ml-4 max-h-40 overflow-y-auto custom-scrollbar",children:i.steps.map(e=>e.metadata?.sources||[]).flat().filter(Boolean).map((e,t)=>r.jsx("div",{className:"text-xs bg-muted/30 rounded p-2",children:"string"==typeof e?r.jsx("span",{className:"text-blue-600",children:e}):(0,r.jsxs)("div",{children:[r.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:e.title}),e.snippet&&r.jsx("p",{className:"text-muted-foreground mt-1",children:e.snippet})]})},t))})]})})]})]}),(()=>{if(!s||n)return null;let e=i.steps.find(e=>"plan"===e.type),t=e?.metadata?.planSteps?.length||0;if(0===t){let e=i.steps.find(e=>"running"===e.status),t=e?.title||"Planning...";return(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-muted/20 rounded-lg border border-border/30",children:[(0,r.jsxs)("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),r.jsx("span",{className:"text-sm font-medium",children:t})]})}let a=i.steps.filter(e=>"plan"!==e.type).filter(e=>"completed"===e.status).length,l=i.steps.find(e=>"running"===e.status);return(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/20 rounded-lg border border-border/30",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[a," of ",t," Done"]})]}),r.jsx("div",{className:"text-xs text-muted-foreground max-w-xs truncate",children:l?.title||"Processing..."})]})})()]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[c(e.timestamp),a&&i?.endTime&&(0,r.jsxs)("span",{className:"ml-2",children:["• ",Math.round((i.endTime.getTime()-i.startTime.getTime())/1e3),"s"]})]})]})]})}return null}/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ee=(0,i.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),et=(0,i.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function es({disabled:e=!1}){let[t,s]=(0,a.useState)(""),{startSearch:n,cancelSearch:l,currentSearch:i}=(0,m.R)(),{ensureConnection:o}=x(),[c,p]=(0,a.useState)(!1),h=i?.status==="thinking",f=async r=>{if(r.preventDefault(),t.trim()&&!e&&!h){p(!0);try{await o(),n(t.trim()),await g.startSearch(t.trim()),s("")}catch(e){console.error("Failed to start search:",e)}finally{p(!1)}}},b=async()=>{if(i&&h)try{await g.cancelSearch(i.id),l()}catch(e){console.error("Failed to cancel search:",e),l()}};return r.jsx("form",{onSubmit:f,className:"relative w-full",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[r.jsx("div",{className:"relative flex-1 min-w-0",children:r.jsx(d,{value:t,onChange:e=>s(e.target.value),placeholder:"Ask me anything...",className:"w-full h-12 pr-4 text-base border-2 focus:border-primary transition-colors rounded-xl resize-none",disabled:e||c,autoFocus:!0,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f(e))}})}),h?r.jsx(u.z,{type:"button",variant:"destructive",size:"sm",onClick:b,className:"h-12 px-4 rounded-xl flex-shrink-0",title:"Stop generation",children:r.jsx(ee,{className:"h-4 w-4"})}):r.jsx(u.z,{type:"submit",disabled:!t.trim()||e||c,size:"sm",className:"h-12 px-4 rounded-xl flex-shrink-0",children:r.jsx(et,{className:"h-4 w-4"})})]})})}/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let er=(0,i.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function ea({onBackToHome:e}){let{messages:t,currentSearch:s,exitChatMode:n}=(0,m.R)(),l=(0,a.useRef)(null),i=(0,a.useRef)(null),c=(0,a.useRef)(!0),d=(0,a.useCallback)((e=!1)=>{if(!l.current||!i.current)return;let t=i.current,s=t.scrollHeight-t.scrollTop-t.clientHeight<100;c.current&&(s||e)&&setTimeout(()=>{l.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[]);(0,a.useEffect)(()=>{d()},[t,d]),(0,a.useEffect)(()=>{s?.status==="completed"&&d(!0)},[s?.status,d]);let p=(0,a.useCallback)(()=>{if(!i.current)return;let e=i.current,t=e.scrollHeight-e.scrollTop-e.clientHeight<50;c.current=t},[]),h=s?.status==="thinking";return(0,r.jsxs)("div",{className:"flex flex-col h-screen w-full",children:[r.jsx("div",{className:"flex-shrink-0 flex items-center justify-between chat-header p-4 border-b border-border/50 bg-background/95 backdrop-blur-sm z-10",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 max-w-4xl mx-auto w-full",children:[r.jsx(u.z,{variant:"ghost",size:"sm",onClick:e,className:"p-2 h-auto",children:r.jsx(er,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h1",{className:"font-semibold text-lg",children:"OpenProbe Chat"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered research assistant"})]}),(0,r.jsxs)(u.z,{variant:"outline",size:"sm",onClick:()=>{n(),e()},disabled:h,className:"flex items-center gap-2",children:[r.jsx(o,{className:"h-4 w-4"}),"New Chat"]})]})}),r.jsx("div",{ref:i,className:"flex-1 overflow-y-auto custom-scrollbar min-h-0 chat-messages-container",onScroll:p,children:r.jsx("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"space-y-6 message-spacing p-4 pb-32 chat-messages-container",children:[t.map(e=>r.jsx(Y,{message:e},e.id)),r.jsx("div",{ref:l})]})})}),r.jsx("div",{className:"flex-shrink-0 border-t border-border/50 bg-background/95 backdrop-blur-sm chat-input-container",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto chat-input p-4",children:[r.jsx(es,{disabled:h}),r.jsx("div",{className:"text-center mt-3",children:(0,r.jsxs)("p",{className:"text-xs text-muted-foreground/60",children:["Powered by"," ",r.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"OpenProbe AI"})," ","• Built with Next.js & FastAPI"]})})]})})]})}function en(){let{isConnected:e}=x(),{isInChatMode:t,exitChatMode:s}=(0,m.R)(),[n,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),d=e=>{o(e)};return((0,a.useEffect)(()=>{t&&(l(!0),setTimeout(()=>l(!1),300))},[t]),t)?r.jsx("div",{className:(0,c.cn)("fixed inset-0 bg-background transition-all duration-300 ease-out",n?"scale-95 opacity-0":"scale-100 opacity-100"),children:r.jsx(ea,{onBackToHome:()=>{l(!0),o(""),setTimeout(()=>{s(),l(!1)},300)}})}):(0,r.jsxs)("div",{className:(0,c.cn)("flex-1 flex flex-col transition-all duration-300 ease-out",n?"scale-95 opacity-0":"scale-100 opacity-100"),children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center px-4 py-8 min-h-[calc(100vh-8rem)]",children:[(0,r.jsxs)("div",{className:"text-center mb-12 max-w-3xl",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"OpenProbe"}),r.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-2",children:"AI-powered research assistant"}),r.jsx("p",{className:"text-base text-muted-foreground/80",children:"Ask complex questions and watch me think through the answer step by step"})]}),r.jsx("div",{className:"w-full max-w-2xl",children:r.jsx(b,{initialQuery:i})}),(0,r.jsxs)("div",{className:"mt-12 text-center",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Try asking:"}),r.jsx("div",{className:"flex flex-wrap gap-2 justify-center max-w-2xl",children:["What is the population of the largest city in the country where the 2024 Olympics were held?","If I multiply the number of moons of Jupiter by the year the Berlin Wall fell, what do I get?","What was the profession of the spouse of the author who wrote 'Do Androids Dream of Electric Sheep?'"].map((e,t)=>(0,r.jsxs)("button",{onClick:()=>d(e),className:"text-xs bg-muted/50 hover:bg-muted transition-colors px-3 py-2 rounded-full text-muted-foreground hover:text-foreground cursor-pointer",children:['"',e.length>60?e.substring(0,60)+"...":e,'"']},t))})]}),!e&&r.jsx("div",{className:"mt-8",children:(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-50 border border-yellow-200 rounded-full text-yellow-700 text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),"Connecting to server..."]})})]}),(0,r.jsxs)("div",{className:"fixed inset-0 -z-10 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/30 via-white to-purple-50/30"}),r.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-100/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-100/20 rounded-full blur-3xl animate-pulse"})]})]})}},9503:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ConditionalFooter:()=>l});var r=s(5344),a=s(4578);function n(){return r.jsx("footer",{className:"border-t border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 mt-auto",children:r.jsx("div",{className:"container flex h-16 items-center justify-center px-4",children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground text-center",children:["Powered by"," ",r.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"OpenProbe AI"})," ","• Built with Next.js & FastAPI"]})})})}function l(){let{isInChatMode:e}=(0,a.R)();return e?null:r.jsx(n,{})}},9705:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Header:()=>i});var r=s(5344),a=s(8765),n=s(2947),l=s(5094);function i(){return r.jsx("header",{className:"border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary text-primary-foreground",children:r.jsx(a.Z,{className:"h-4 w-4"})}),r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"OpenProbe"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(l.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)("a",{href:"https://github.com/Open-Probe/openprobe_dev",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[r.jsx(n.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"GitHub"})]})})})]})})}},5094:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var r=s(5344),a=s(3729),n=s(2751),l=s(9247),i=s(1453);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...l},c)=>{let d=a?n.g7:"button";return r.jsx(d,{className:(0,i.cn)(o({variant:t,size:s,className:e})),ref:c,...l})});c.displayName="Button"},4578:(e,t,s)=>{"use strict";s.d(t,{R:()=>n});var r=s(3158),a=s(1453);let n=(0,r.Ue)((e,t)=>({messages:[],currentSearch:null,isInChatMode:!1,isConnected:!1,error:null,startSearch:s=>{let r={id:(0,a.Ox)(),query:s,status:"thinking",steps:[],startTime:new Date},n={id:(0,a.Ox)(),type:"user",content:s,timestamp:new Date},l={id:(0,a.Ox)(),type:"assistant",content:"",timestamp:new Date,searchResult:r};e({currentSearch:r,messages:[...t().messages,n,l],isInChatMode:!0,error:null})},clearSearch:()=>{e({currentSearch:null,error:null})},cancelSearch:()=>{let{currentSearch:s}=t();s&&"thinking"===s.status&&e({currentSearch:{...s,status:"idle",endTime:new Date},error:null})},updateStep:s=>{let{currentSearch:r,messages:a}=t();if(!r)return;let n={...r,steps:r.steps.some(e=>e.id===s.id)?r.steps.map(e=>e.id===s.id?s:e):[...r.steps,s]},l=a.map(e=>"assistant"===e.type&&e.searchResult?.id===r.id?{...e,searchResult:n}:e);e({currentSearch:n,messages:l})},setFinalAnswer:s=>{let{currentSearch:r,messages:a}=t();if(!r)return;let n={...r,status:"completed",finalAnswer:s,endTime:new Date},l=a.map(e=>"assistant"===e.type&&e.searchResult?.id===r.id?{...e,content:s,searchResult:n}:e);e({currentSearch:n,messages:l})},setError:s=>{let{currentSearch:r}=t();e({error:s,currentSearch:r?{...r,status:"error",error:s||void 0,endTime:new Date}:null})},setConnected:t=>{e({isConnected:t})},addMessage:s=>{let r={...s,id:(0,a.Ox)(),timestamp:new Date};e({messages:[...t().messages,r]})},clearMessages:()=>{e({messages:[],currentSearch:null,isInChatMode:!1,error:null})},enterChatMode:()=>{e({isInChatMode:!0})},exitChatMode:()=>{e({isInChatMode:!1,messages:[],currentSearch:null,error:null})}}))},1453:(e,t,s)=>{"use strict";s.d(t,{Ox:()=>l,cn:()=>n});var r=s(6815),a=s(9377);function n(...e){return(0,a.m6)((0,r.W)(e))}function l(){return Math.random().toString(36).substr(2,9)}},2392:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f,metadata:()=>x});var r=s(5036),a=s(2195),n=s.n(a);s(5023);var l=s(6843);let i=(0,l.createProxy)(String.raw`/Users/suryanshrawat/Documents/github/openprobe_dev/frontend/src/components/layout/Header.tsx`),{__esModule:o,$$typeof:c}=i;i.default;let d=(0,l.createProxy)(String.raw`/Users/suryanshrawat/Documents/github/openprobe_dev/frontend/src/components/layout/Header.tsx#Header`),u=(0,l.createProxy)(String.raw`/Users/suryanshrawat/Documents/github/openprobe_dev/frontend/src/components/layout/ConditionalFooter.tsx`),{__esModule:m,$$typeof:p}=u;u.default;let h=(0,l.createProxy)(String.raw`/Users/suryanshrawat/Documents/github/openprobe_dev/frontend/src/components/layout/ConditionalFooter.tsx#ConditionalFooter`),x={title:"OpenProbe - AI-Powered Research Assistant",description:"Ask complex questions and get detailed answers through intelligent web research and reasoning.",keywords:["AI","search","research","assistant","web search","reasoning"],authors:[{name:"OpenProbe Team"}],viewport:"width=device-width, initial-scale=1",robots:"index, follow",openGraph:{title:"OpenProbe - AI-Powered Research Assistant",description:"Ask complex questions and get detailed answers through intelligent web research and reasoning.",type:"website",locale:"en_US"},twitter:{card:"summary_large_image",title:"OpenProbe - AI-Powered Research Assistant",description:"Ask complex questions and get detailed answers through intelligent web research and reasoning."}};function f({children:e}){return(0,r.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[r.jsx("head",{}),(0,r.jsxs)("body",{className:`${n().className} min-h-screen flex flex-col bg-background antialiased`,children:[r.jsx(d,{}),r.jsx("main",{className:"flex-1 flex flex-col",children:e}),r.jsx(h,{})]})]})}},1136:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`/Users/suryanshrawat/Documents/github/openprobe_dev/frontend/src/app/page.tsx`),{__esModule:a,$$typeof:n}=r,l=r.default},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[592],()=>s(7458));module.exports=r})();